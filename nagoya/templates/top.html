{% extends "base.html" %}
{% load static %}

{% block title %}NagoyaMeshi{% endblock %}
{% block content %}

  <main>
    
    

    <div class="swiper mySwiper">
      <div class="swiper-wrapper">
        <div class="swiper-slide"><img src="{% static 'img/breakfast3.webp' %}" alt="ç”»åƒ"></div>
        <div class="swiper-slide"><img src="{% static 'img/cyuukaryouri.webp' %}" alt="ç”»åƒ"></div>
        <div class="swiper-slide"><img src="{% static 'img/wasyoku.webp' %}" alt="ç”»åƒ"></div>
        <div class="swiper-slide"><img src="{% static 'img/kaisendon.webp' %}" alt="ç”»åƒ"></div>
        <div class="swiper-slide"><img src="{% static 'img/kaisendon2.webp' %}" alt="ç”»åƒ"></div>
        <div class="swiper-slide"><img src="{% static 'img/izakayamentaitamagoyaki.webp' %}" alt="ç”»åƒ"></div>
        <div class="swiper-slide"><img src="{% static 'img/Hamburg steak.webp' %}" alt="ç”»åƒ"></div>
        <div class="swiper-slide"><img src="{% static 'img/ã‚¢ãƒ’ãƒ¼ã‚¸ãƒ§.webp' %}" alt="ç”»åƒ"></div>
        <div class="swiper-slide"><img src="{% static 'img/kare-teisyoku.webp' %}" alt="ç”»åƒ"></div>
      </div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-pagination"></div>
    </div>

    <h1 class="stylish-heading">ãŠã™ã™ã‚ã®åº—èˆ—</h1>
<div class="restaurant-container">
  {% if restaurants %} 
  {% for restaurant in restaurants %}
   <!-- åº—èˆ—ã‚«ãƒ¼ãƒ‰å…¨ä½“ã‚’ãƒªãƒ³ã‚¯ã«ã™ã‚‹ -->
   <a href="{% url 'restaurant_detail' restaurant.id %}" class="restaurant-card-link">
  
    <div class="restaurant-card">
      <!-- ç”»åƒ -->
      <div class="restaurant-image">
        {% if restaurant.img %}
          <img src="{{ restaurant.img.url }}" alt="{{ restaurant.name }}">
        {% else %}
          <img src="{% static 'img/noImage.png' %}" alt="No Image">
        {% endif %}
      </div>

      <!-- åº—èˆ—æƒ…å ± -->
      <div class="restaurant-info">
        <h2>{{ restaurant.name }}</h2>
        <p class="category">{{ restaurant.category }}</p>
        <p class="address">ğŸ“ {{ restaurant.address }}</p>

        <!-- â­ è¿½åŠ : æ˜Ÿè©•ä¾¡ã‚²ãƒ¼ã‚¸ -->
        <div class="star-rating">
          <div class="stars">
            <div class="filled-stars" style="width: {{ restaurant.star_percentage }}%;"></div>
          </div>
          <span>{{ restaurant.average_rating|floatformat:1 }}/5</span>
        </div>

        <!-- è©³ç´°ãƒœã‚¿ãƒ³ -->
        <a href="{% url 'restaurant_detail' restaurant.id %}" class="detail-btn">è©³ç´°ã‚’è¦‹ã‚‹</a>
      </div>
    </div>
  {% endfor %}
</div>  <!-- âœ… `<div class="restaurant-list">` ã‚’é–‰ã˜ã‚‹ -->
    
    {% else %}
      <p>è¡¨ç¤ºã§ãã‚‹åº—èˆ—ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
    {% endif %}

     <!-- ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
     <h1 class="stylish-heading">ã‚«ãƒ†ã‚´ãƒªåˆ¥</h1>
     <div class="category-buttons">
       <a href="{% url 'restaurant_list' %}?category=å’Œé£Ÿ" class="category-button">å’Œé£Ÿ</a>
       <a href="{% url 'restaurant_list' %}?category=æ´‹é£Ÿ" class="category-button">æ´‹é£Ÿ</a>
       <a href="{% url 'restaurant_list' %}?category=ã‚¤ã‚¿ãƒªã‚¢ãƒ³" class="category-button">ã‚¤ã‚¿ãƒªã‚¢ãƒ³</a>
       <a href="{% url 'restaurant_list' %}?category=ã‚«ãƒ•ã‚§" class="category-button">ã‚«ãƒ•ã‚§</a>
       <a href="{% url 'restaurant_list' %}?category=ãƒ©ãƒ¼ãƒ¡ãƒ³" class="category-button">ãƒ©ãƒ¼ãƒ¡ãƒ³</a>
     </div>
    
    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="{% static 'js/script.js' %}"></script>
    
    </main>  <!-- âœ… `<main>` ã‚’é–‰ã˜ã‚‹ -->
    {% endblock %}

  
